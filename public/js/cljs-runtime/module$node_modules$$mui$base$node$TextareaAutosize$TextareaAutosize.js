shadow$provide.module$node_modules$$mui$base$node$TextareaAutosize$TextareaAutosize=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");
Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_objectWithoutPropertiesLoose2=global(require("module$node_modules$$babel$runtime$helpers$objectWithoutPropertiesLoose")),React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&
nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index"));
global=global(require("module$node_modules$prop_types$index"));var _reactDom=require("module$node_modules$react_dom$index"),_utils=require("module$node_modules$$mui$utils$index"),_jsxRuntime=require("module$node_modules$react$jsx_runtime");const _excluded=["onChange","maxRows","minRows","style","value"];var JSCompiler_object_inline_shadow_400={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};require=React.forwardRef(function(props,ref){const {onChange,
maxRows,minRows=1,style,value}=props,other=(0,_objectWithoutPropertiesLoose2.default)(props,_excluded),{current:isControlled}=React.useRef(null!=value),inputRef=React.useRef(null);ref=(0,_utils.unstable_useForkRef)(ref,inputRef);const shadowRef=React.useRef(null),renders=React.useRef(0),[state,setState]=React.useState({}),getUpdatedState=React.useCallback(()=>{var input=inputRef.current,computedStyle=(0,_utils.unstable_ownerWindow)(input).getComputedStyle(input);if("0px"===computedStyle.width)return{};
var inputShallow=shadowRef.current;inputShallow.style.width=computedStyle.width;inputShallow.value=input.value||props.placeholder||"x";"\n"===inputShallow.value.slice(-1)&&(inputShallow.value+=" ");input=computedStyle["box-sizing"];const padding=(parseInt(computedStyle["padding-bottom"],10)||0)+(parseInt(computedStyle["padding-top"],10)||0);computedStyle=(parseInt(computedStyle["border-bottom-width"],10)||0)+(parseInt(computedStyle["border-top-width"],10)||0);const innerHeight=inputShallow.scrollHeight;
inputShallow.value="x";inputShallow=inputShallow.scrollHeight;let outerHeight=innerHeight;minRows&&(outerHeight=Math.max(Number(minRows)*inputShallow,outerHeight));maxRows&&(outerHeight=Math.min(Number(maxRows)*inputShallow,outerHeight));outerHeight=Math.max(outerHeight,inputShallow);return{outerHeightStyle:outerHeight+("border-box"===input?padding+computedStyle:0),overflow:1>=Math.abs(outerHeight-innerHeight)}},[maxRows,minRows,props.placeholder]),updateState=(prevState,newState)=>{const {outerHeightStyle,
overflow}=newState;if(20>renders.current&&(0<outerHeightStyle&&1<Math.abs((prevState.outerHeightStyle||0)-outerHeightStyle)||prevState.overflow!==overflow))return renders.current+=1,{overflow,outerHeightStyle};20===renders.current&&console.error("MUI: Too many re-renders. The layout is unstable.\nTextareaAutosize limits the number of renders to prevent an infinite loop.");return prevState},syncHeight=React.useCallback(()=>{const newState=getUpdatedState();void 0!==newState&&null!==newState&&0!==Object.keys(newState).length&&
setState(prevState=>updateState(prevState,newState))},[getUpdatedState]),syncHeightWithFlushSycn=()=>{const newState=getUpdatedState();void 0!==newState&&null!==newState&&0!==Object.keys(newState).length&&(0,_reactDom.flushSync)(()=>{setState(prevState=>updateState(prevState,newState))})};React.useEffect(()=>{const handleResize=(0,_utils.unstable_debounce)(()=>{renders.current=0;inputRef.current&&syncHeightWithFlushSycn()}),containerWindow=(0,_utils.unstable_ownerWindow)(inputRef.current);containerWindow.addEventListener("resize",
handleResize);let resizeObserver;"undefined"!==typeof ResizeObserver&&(resizeObserver=new ResizeObserver(handleResize),resizeObserver.observe(inputRef.current));return()=>{handleResize.clear();containerWindow.removeEventListener("resize",handleResize);resizeObserver&&resizeObserver.disconnect()}});(0,_utils.unstable_useEnhancedEffect)(()=>{syncHeight()});React.useEffect(()=>{renders.current=0},[value]);return(0,_jsxRuntime.jsxs)(React.Fragment,{children:[(0,_jsxRuntime.jsx)("textarea",(0,_extends2.default)({value,
onChange:event=>{renders.current=0;isControlled||syncHeight();onChange&&onChange(event)},ref,rows:minRows,style:(0,_extends2.default)({height:state.outerHeightStyle,overflow:state.overflow?"hidden":null},style)},other)),(0,_jsxRuntime.jsx)("textarea",{"aria-hidden":!0,className:props.className,readOnly:!0,ref:shadowRef,tabIndex:-1,style:(0,_extends2.default)({},JSCompiler_object_inline_shadow_400,style,{padding:0})})]})});require.propTypes={className:global.default.string,maxRows:global.default.oneOfType([global.default.number,
global.default.string]),minRows:global.default.oneOfType([global.default.number,global.default.string]),onChange:global.default.func,placeholder:global.default.string,style:global.default.object,value:global.default.oneOfType([global.default.arrayOf(global.default.string),global.default.number,global.default.string])};exports.default=require}
//# sourceMappingURL=module$node_modules$$mui$base$node$TextareaAutosize$TextareaAutosize.js.map
