{"version":3,"sources":["app/main.cljs"],"mappings":";;;;;;;AAeA,sBAAA,2CAAA,8DAAA,2CAAA,4DAAA,wDAAA,+DAAA,qFAAA,sEAAA,xfAAKA;AAIL,GAAA,QAAAC,gCAAAC,qCAAAC;AAAA;AAAA,AAAA,AAASC,qBAAU,gDAAA,2CAAA,yDAAA,2CAAA,0DAAA,GAAA,8DAAA,gBAAA,4DAAA,iCAAA,+DAAA,teAACC;;AAMpB,4BAAA,5BAAMC;AAAN,gDACM,AAACC,8BAA0BP,9EAC3B,AAACQ,mGAAa,WAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;WAAA,AAAAE,4CAAAF,eAAA,lEAAaG;AAAb,AACE,sFAAA,tFAACC,mDAAMV,mBAAUW,4EACAF;;AACjB,qGAAA,2HAAA,zNAACC,0DAAMV,mBAAUY,0EACVD,4HAAe,AAACE,gBAAMJ;;;uDAC7C,AAACK,+BAA2BlB,oBAAW,AAAA,uFAAA,AAAAmB,gBAAWf,jNAClD,OAACI,gOAAa,WAAKY;AAAL,AACE,6FAAA,tFAACN,mDAAMV,mBACAW,+EACW,AAAA,mFAAOK;;;AAE/C,gBAAA,hBAAMC;AAAN,AACE,AAACf;;AACD,wDAAA,mFAAA,iDAAA,mFAAA,wHAAA,mFAAA,wGAAA,2CAAA,iDAAA,2CAAA,iEAAA,cAAA,0DAAA,OAAA,iFAAA,cAAA,oFAAA,qCAAA,4GAAA,2CAAA,+QAAA,uSAAA,mFAAA,8GAAA,2CAAA,+DAAA,OAAA,iDAAA,2CAAA,gEAAA,uBAAA,eAAA,mFAAA,wGAAA,2CAAA,+DAAA,SAAA,gEAAA,iBAAA,1mFAACgB,uTACkBC,2MACAC,2nBAMFC,8HAAyB,AAAA,wFAAA,AAAA,uFAAA,AAAAN,gBAAKf,oFAGL,AAAA,4FAAA,AAAA,uFAAA,AAAAe,gBAAKf,wKAG3BsB,ofAGAF,8RAEN,wBAAA,xBAAiBG;;AAEjC,sBAAA,tBAAuBC;AAAvB,AACE,OAACP","names":["app.main/lol-client","js/app","js/app.main","js/app.main.base-data","app.main/base-data","reagent.core.atom","app.main/prepare-metadata","api.lol.metadata/get-versions","promesa.core.then","p__28772","map__28773","cljs.core/--destructure-map","cljs.core.get","data","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core/update","cljs.core/first","api.lol.metadata/get-champions","cljs.core/deref","res","app.main/init","reagent.dom.render","js/module$node_modules$$mui$material$node$CssBaseline$index.default","js/module$node_modules$$mui$material$node$Box$index.default","app.layout.header/header","js/module$node_modules$$mui$material$node$Container$index.default","js/document","app.main/hot-reload"],"sourcesContent":["(ns app.main\n  (:require\n    [\"axios\" :as axios]\n    [reagent.dom :as r.dom]\n    [reagent.core :as r.core]\n    [promesa.core :as promesa]\n    [api.lol.metadata :as lol.metadata]\n    [app.layout.header :as header]\n    [\"@mui/material/Typography\" :default Typography]\n    [\"@mui/material/CssBaseline\" :default CssBaseline]\n    [\"@mui/material/Stack\" :default Stack]\n    [\"@mui/material/Container\" :default Container]\n    [\"@mui/material/Box\" :default Box]))\n\n\n(def lol-client {:endpoints {:versions      \"https://ddragon.leagueoflegends.com/api/versions.json\"\n                             :champions     \"http://ddragon.leagueoflegends.com/cdn/{{version}}/data/{{language}}/champion.json\"\n                             :champion-icon \"http://ddragon.leagueoflegends.com/cdn/{{version}}/img/champion/{{image}}\"}})\n\n(defonce base-data (r.core/atom\n                     {:options   {:version  \"\"\n                                  :language \"pt_BR\"}\n                      :versions  []\n                      :champions {}}))\n\n(defn prepare-metadata []\n  (-> (lol.metadata/get-versions lol-client)\n      (promesa/then (fn [{:keys [data]}]\n                      (swap! base-data assoc\n                             :versions data)\n                      (swap! base-data update :options\n                             assoc :version (first data)))))\n  (-> (lol.metadata/get-champions lol-client (:options @base-data))\n      (promesa/then (fn [res]\n                      (swap! base-data\n                             assoc\n                             :champions (:data res))))))\n\n(defn init []\n  (prepare-metadata)\n  (r.dom/render [:<>\n                 [:> CssBaseline]\n                 [:> Box\n                  {:sx                 {:max-height \"1vh\"}\n                   :display            \"grid\"\n                   :grid-template-rows \"1fr 1fr 1fr\"\n                   :grid-template-areas\n                   \"'header'\\n'main'\\n'footer'\"}\n                  [header/header {:version  (-> @base-data\n                                                :options\n                                                :version)\n                                  :language (-> @base-data\n                                                :options\n                                                :language)}]\n                  [:> Container {:component \"main\"\n                                 :sx        {:grid-area \"main\"}}\n                   \"Main\"]\n                  [:> Box {:component \"footer\"\n                           :grid-area \"footer\"} \"Footer\"]]]\n                (.getElementById js/document \"app\")))\n\n(defn ^:dev/after-load hot-reload []\n  (init))"]}