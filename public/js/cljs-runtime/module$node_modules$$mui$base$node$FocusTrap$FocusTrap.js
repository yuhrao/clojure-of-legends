shadow$provide.module$node_modules$$mui$base$node$FocusTrap$FocusTrap=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}function defaultGetTabbable(root){const regularTabNodes=[],orderedTabNodes=[];Array.from(root.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable\x3d"false"])')).forEach((node,
i)=>{var JSCompiler_inline_result=parseInt(node.getAttribute("tabindex"),10);JSCompiler_inline_result=Number.isNaN(JSCompiler_inline_result)?"true"===node.contentEditable||("AUDIO"===node.nodeName||"VIDEO"===node.nodeName||"DETAILS"===node.nodeName)&&null===node.getAttribute("tabindex")?0:node.tabIndex:JSCompiler_inline_result;var JSCompiler_temp;(JSCompiler_temp=-1===JSCompiler_inline_result)||((JSCompiler_temp=node.disabled||"INPUT"===node.tagName&&"hidden"===node.type)||("INPUT"===node.tagName&&
"radio"===node.type&&node.name?((JSCompiler_temp=node.ownerDocument.querySelector(`input[type="radio"]${`[name="${node.name}"]:checked`}`))||(JSCompiler_temp=node.ownerDocument.querySelector(`input[type="radio"]${`[name="${node.name}"]`}`)),JSCompiler_temp=JSCompiler_temp!==node):JSCompiler_temp=!1),JSCompiler_temp=!!JSCompiler_temp);JSCompiler_temp||(0===JSCompiler_inline_result?regularTabNodes.push(node):orderedTabNodes.push({documentOrder:i,tabIndex:JSCompiler_inline_result,node}))});return orderedTabNodes.sort((a,
b)=>a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex).map(a=>a.node).concat(regularTabNodes)}function defaultIsEnabled(){return!0}function FocusTrap(props){const {children,disableAutoFocus=!1,disableEnforceFocus=!1,disableRestoreFocus=!1,getTabbable=defaultGetTabbable,isEnabled=defaultIsEnabled,open}=props,ignoreNextEnforceFocus=React.useRef(),sentinelStart=React.useRef(null),sentinelEnd=React.useRef(null),nodeToRestore=React.useRef(null),reactFocusEventTarget=React.useRef(null),
activated=React.useRef(!1),rootRef=React.useRef(null);props=(0,_utils.unstable_useForkRef)(children.ref,rootRef);const lastKeydown=React.useRef(null);React.useEffect(()=>{open&&rootRef.current&&(activated.current=!disableAutoFocus)},[disableAutoFocus,open]);React.useEffect(()=>{if(open&&rootRef.current){var doc=(0,_utils.unstable_ownerDocument)(rootRef.current);rootRef.current.contains(doc.activeElement)||(rootRef.current.hasAttribute("tabIndex")||(console.error('MUI: The modal content node does not accept focus.\nFor the benefit of assistive technologies, the tabIndex of the node is being set to "-1".'),
rootRef.current.setAttribute("tabIndex",-1)),activated.current&&rootRef.current.focus());return()=>{disableRestoreFocus||(nodeToRestore.current&&nodeToRestore.current.focus&&(ignoreNextEnforceFocus.current=!0,nodeToRestore.current.focus()),nodeToRestore.current=null)}}},[open]);React.useEffect(()=>{if(open&&rootRef.current){var doc=(0,_utils.unstable_ownerDocument)(rootRef.current),contain=nativeEvent=>{var {current:rootElement}=rootRef;if(null!==rootElement)if(!doc.hasFocus()||disableEnforceFocus||
!isEnabled()||ignoreNextEnforceFocus.current)ignoreNextEnforceFocus.current=!1;else if(!rootElement.contains(doc.activeElement)){if(nativeEvent&&reactFocusEventTarget.current!==nativeEvent.target||doc.activeElement!==reactFocusEventTarget.current)reactFocusEventTarget.current=null;else if(null!==reactFocusEventTarget.current)return;if(activated.current){nativeEvent=[];if(doc.activeElement===sentinelStart.current||doc.activeElement===sentinelEnd.current)nativeEvent=getTabbable(rootRef.current);if(0<
nativeEvent.length){var _lastKeydown$current,_lastKeydown$current2;rootElement=!(null==(_lastKeydown$current=lastKeydown.current)||!_lastKeydown$current.shiftKey||"Tab"!==(null==(_lastKeydown$current2=lastKeydown.current)?void 0:_lastKeydown$current2.key));_lastKeydown$current=nativeEvent[0];nativeEvent=nativeEvent[nativeEvent.length-1];rootElement?nativeEvent.focus():_lastKeydown$current.focus()}else rootElement.focus()}}},loopFocus=nativeEvent=>{lastKeydown.current=nativeEvent;!disableEnforceFocus&&
isEnabled()&&"Tab"===nativeEvent.key&&doc.activeElement===rootRef.current&&nativeEvent.shiftKey&&(ignoreNextEnforceFocus.current=!0,sentinelEnd.current.focus())};doc.addEventListener("focusin",contain);doc.addEventListener("keydown",loopFocus,!0);var interval=setInterval(()=>{"BODY"===doc.activeElement.tagName&&contain()},50);return()=>{clearInterval(interval);doc.removeEventListener("focusin",contain);doc.removeEventListener("keydown",loopFocus,!0)}}},[disableAutoFocus,disableEnforceFocus,disableRestoreFocus,
isEnabled,open,getTabbable]);const handleFocusSentinel=event=>{null===nodeToRestore.current&&(nodeToRestore.current=event.relatedTarget);activated.current=!0};return(0,_jsxRuntime.jsxs)(React.Fragment,{children:[(0,_jsxRuntime.jsx)("div",{tabIndex:open?0:-1,onFocus:handleFocusSentinel,ref:sentinelStart,"data-testid":"sentinelStart"}),React.cloneElement(children,{ref:props,onFocus:event=>{null===nodeToRestore.current&&(nodeToRestore.current=event.relatedTarget);activated.current=!0;reactFocusEventTarget.current=
event.target;const childrenPropsHandler=children.props.onFocus;childrenPropsHandler&&childrenPropsHandler(event)}}),(0,_jsxRuntime.jsx)("div",{tabIndex:open?0:-1,onFocus:handleFocusSentinel,ref:sentinelEnd,"data-testid":"sentinelEnd"})]})}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==
typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=
obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index"));global=global(require("module$node_modules$prop_types$index"));var _utils=require("module$node_modules$$mui$utils$index"),_jsxRuntime=require("module$node_modules$react$jsx_runtime");FocusTrap.propTypes={children:_utils.elementAcceptingRef,disableAutoFocus:global.default.bool,disableEnforceFocus:global.default.bool,disableRestoreFocus:global.default.bool,getTabbable:global.default.func,isEnabled:global.default.func,
open:global.default.bool.isRequired};FocusTrap.propTypes=(0,_utils.exactProp)(FocusTrap.propTypes);exports.default=FocusTrap}
//# sourceMappingURL=module$node_modules$$mui$base$node$FocusTrap$FocusTrap.js.map
