shadow$provide.module$node_modules$$mui$base$node$ListboxUnstyled$useListbox=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,
"__esModule",{value:!0});exports.default=function(props){function defaultIdGenerator(_,index){return`${id}-option-${index}`}var _props$optionIdGenera,_options$highlightedI;const {disabledItemsFocusable=!1,disableListWrap=!1,focusManagement="activeDescendant",id:idProp,isOptionDisabled=defaultIsOptionDisabled,listboxRef:externalListboxRef,multiple=!1,optionComparer=defaultOptionComparer,optionStringifier=defaultOptionStringifier,options,stateReducer:externalReducer}=props,id=(0,_utils.unstable_useId)(idProp),
optionIdGenerator=null!=(_props$optionIdGenera=props.optionIdGenerator)?_props$optionIdGenera:defaultIdGenerator,propsWithDefaults=(0,_extends2.default)({},props,{disabledItemsFocusable,disableListWrap,focusManagement,isOptionDisabled,multiple,optionComparer,optionStringifier}),listboxRef=React.useRef(null),handleRef=(0,_utils.unstable_useForkRef)(externalListboxRef,listboxRef),textCriteriaRef=React.useRef({searchString:"",lastTime:null}),[{highlightedValue,selectedValue},dispatch]=(0,_useControllableReducer.default)(_defaultListboxReducer.default,
externalReducer,propsWithDefaults),highlightedIndex=React.useMemo(()=>null==highlightedValue?-1:options.findIndex(option=>optionComparer(option,highlightedValue)),[highlightedValue,options,optionComparer]),previousOptions=React.useRef([]);React.useEffect(()=>{(0,_areArraysEqual.default)(previousOptions.current,options,optionComparer)||(dispatch({type:_useListbox.ActionTypes.optionsChange,event:null,options,previousOptions:previousOptions.current,props:propsWithDefaults}),previousOptions.current=options)},
[options,optionComparer,dispatch]);props=React.useCallback(option=>{dispatch({type:_useListbox.ActionTypes.setValue,event:null,value:option})},[dispatch]);_props$optionIdGenera=React.useCallback(option=>{dispatch({type:_useListbox.ActionTypes.setHighlight,event:null,highlight:option})},[dispatch]);const createHandleOptionClick=(option,other)=>event=>{var _other$onClick;null==(_other$onClick=other.onClick)?void 0:_other$onClick.call(other,event);event.defaultPrevented||(event.preventDefault(),dispatch({type:_useListbox.ActionTypes.optionClick,
option,event,props:propsWithDefaults}))},createHandleOptionPointerOver=(option,other)=>event=>{var _other$onMouseOver;null==(_other$onMouseOver=other.onMouseOver)?void 0:_other$onMouseOver.call(other,event);event.defaultPrevented||dispatch({type:_useListbox.ActionTypes.optionHover,option,event,props:propsWithDefaults})},createHandleKeyDown=other=>event=>{var _other$onKeyDown;null==(_other$onKeyDown=other.onKeyDown)?void 0:_other$onKeyDown.call(other,event);if(!event.defaultPrevented&&(_other$onKeyDown=
"ArrowUp ArrowDown Home End PageUp PageDown".split(" "),"activeDescendant"===focusManagement&&_other$onKeyDown.push(" ","Enter"),_other$onKeyDown.includes(event.key)&&event.preventDefault(),dispatch({type:_useListbox.ActionTypes.keyDown,event,props:propsWithDefaults}),1===event.key.length&&" "!==event.key)){_other$onKeyDown=textCriteriaRef.current;const lowerKey=event.key.toLowerCase(),currentTime=performance.now();if(0<_other$onKeyDown.searchString.length&&_other$onKeyDown.lastTime&&500<currentTime-
_other$onKeyDown.lastTime)_other$onKeyDown.searchString=lowerKey;else if(1!==_other$onKeyDown.searchString.length||lowerKey!==_other$onKeyDown.searchString)_other$onKeyDown.searchString+=lowerKey;_other$onKeyDown.lastTime=currentTime;dispatch({type:_useListbox.ActionTypes.textNavigation,event,searchString:_other$onKeyDown.searchString,props:propsWithDefaults})}},createHandleBlur=other=>event=>{var _other$onBlur,_listboxRef$current;null==(_other$onBlur=other.onBlur)?void 0:_other$onBlur.call(other,
event);event.defaultPrevented||null!=(_listboxRef$current=listboxRef.current)&&_listboxRef$current.contains(document.activeElement)||dispatch({type:_useListbox.ActionTypes.blur,event,props:propsWithDefaults})},getOptionState=option=>{let selected;const index=options.findIndex(opt=>optionComparer(opt,option));selected=multiple?(null!=selectedValue?selectedValue:[]).some(value=>null!=value&&optionComparer(option,value)):optionComparer(option,selectedValue);const disabled=isOptionDisabled(option,index);
return{selected,disabled,highlighted:highlightedIndex===index}};React.useDebugValue({highlightedOption:options[highlightedIndex],selectedOption:selectedValue});return{getRootProps:(otherHandlers={})=>(0,_extends2.default)({},otherHandlers,{"aria-activedescendant":"activeDescendant"===focusManagement&&null!=highlightedValue?optionIdGenerator(highlightedValue,highlightedIndex):void 0,id,onBlur:createHandleBlur(otherHandlers),onKeyDown:createHandleKeyDown(otherHandlers),role:"listbox",tabIndex:"DOM"===
focusManagement?-1:0,ref:handleRef}),getOptionProps:(option,otherHandlers={})=>{var optionState=getOptionState(option),index=options.findIndex(opt=>optionComparer(opt,option)),JSCompiler_temp_const=_extends2,JSCompiler_temp_const$jscomp$0=JSCompiler_temp_const.default,JSCompiler_temp_const$jscomp$1=optionState.disabled||void 0,JSCompiler_temp_const$jscomp$2=optionState.selected;index=optionIdGenerator(option,index);var JSCompiler_temp_const$jscomp$3=createHandleOptionClick(option,otherHandlers),JSCompiler_temp_const$jscomp$4=
createHandleOptionPointerOver(option,otherHandlers);optionState="activeDescendant"!==focusManagement?!optionState.highlighted||optionState.disabled&&!disabledItemsFocusable?-1:0:void 0;return JSCompiler_temp_const$jscomp$0.call(JSCompiler_temp_const,{},otherHandlers,{"aria-disabled":JSCompiler_temp_const$jscomp$1,"aria-selected":JSCompiler_temp_const$jscomp$2,id:index,onClick:JSCompiler_temp_const$jscomp$3,onPointerOver:JSCompiler_temp_const$jscomp$4,role:"option",tabIndex:optionState})},getOptionState,
highlightedOption:null!=(_options$highlightedI=options[highlightedIndex])?_options$highlightedI:null,selectedOption:selectedValue,setSelectedValue:props,setHighlightedValue:_props$optionIdGenera}};var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);
var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index")),_utils=require("module$node_modules$$mui$utils$index"),
_useListbox=require("module$node_modules$$mui$base$node$ListboxUnstyled$useListbox_types"),_defaultListboxReducer=global(require("module$node_modules$$mui$base$node$ListboxUnstyled$defaultListboxReducer")),_useControllableReducer=global(require("module$node_modules$$mui$base$node$ListboxUnstyled$useControllableReducer")),_areArraysEqual=global(require("module$node_modules$$mui$base$node$utils$areArraysEqual"));const defaultOptionComparer=(optionA,optionB)=>optionA===optionB,defaultIsOptionDisabled=
()=>!1,defaultOptionStringifier=option=>"string"===typeof option?option:String(option)}
//# sourceMappingURL=module$node_modules$$mui$base$node$ListboxUnstyled$useListbox.js.map
