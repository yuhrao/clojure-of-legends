shadow$provide.module$node_modules$$mui$base$node$MenuUnstyled$useMenu=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}function stateReducer(state,action){if(action.type===_ListboxUnstyled.ActionTypes.blur||action.type===
_ListboxUnstyled.ActionTypes.optionHover||action.type===_ListboxUnstyled.ActionTypes.setValue)return state;state=(0,_ListboxUnstyled.defaultListboxReducer)(state,action);return action.type!==_ListboxUnstyled.ActionTypes.setHighlight&&null===state.highlightedValue&&0<action.props.options.length?(0,_extends2.default)({},state,{highlightedValue:action.props.options[0]}):state}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",
{value:!0});exports.default=function(parameters={}){const {listboxRef:listboxRefProp,open=!1,onClose,listboxId}=parameters,[menuItems,setMenuItems]=React.useState({}),listboxRef=React.useRef(null);var handleRef=(0,_utils.unstable_useForkRef)(listboxRef,listboxRefProp);parameters=React.useCallback((id,metadata)=>{setMenuItems(previousState=>{previousState=(0,_extends2.default)({},previousState);previousState[id]=metadata;return previousState})},[]);const unregisterItem=React.useCallback(id=>{setMenuItems(previousState=>
{previousState=(0,_extends2.default)({},previousState);delete previousState[id];return previousState})},[]),{getOptionState,getOptionProps,getRootProps,highlightedOption,setHighlightedValue:setListboxHighlight}=(0,_ListboxUnstyled.useListbox)({options:Object.keys(menuItems),optionStringifier:id=>{var _menuItems$id$ref$cur;return menuItems[id].label||(null==(_menuItems$id$ref$cur=menuItems[id].ref.current)?void 0:_menuItems$id$ref$cur.innerText)},isOptionDisabled:id=>{var _menuItems$id;return(null==
menuItems?void 0:null==(_menuItems$id=menuItems[id])?void 0:_menuItems$id.disabled)||!1},listboxRef:handleRef,focusManagement:"DOM",id:listboxId,stateReducer,disabledItemsFocusable:!0}),highlightFirstItem=React.useCallback(()=>{0<Object.keys(menuItems).length&&setListboxHighlight(menuItems[Object.keys(menuItems)[0]].id)},[menuItems,setListboxHighlight]);handleRef=React.useCallback(()=>{0<Object.keys(menuItems).length&&setListboxHighlight(menuItems[Object.keys(menuItems)[Object.keys(menuItems).length-
1]].id)},[menuItems,setListboxHighlight]);React.useEffect(()=>{open||highlightFirstItem()},[open,highlightFirstItem]);const createHandleKeyDown=otherHandlers=>e=>{var _otherHandlers$onKeyD;null==(_otherHandlers$onKeyD=otherHandlers.onKeyDown)?void 0:_otherHandlers$onKeyD.call(otherHandlers,e);e.defaultPrevented||"Escape"===e.key&&open&&(null==onClose?void 0:onClose())},createHandleBlur=otherHandlers=>e=>{var _otherHandlers$onBlur,_listboxRef$current;null==(_otherHandlers$onBlur=otherHandlers.onBlur)?
void 0:_otherHandlers$onBlur.call(otherHandlers,e);null!=(_listboxRef$current=listboxRef.current)&&_listboxRef$current.contains(e.relatedTarget)||(null==onClose?void 0:onClose())};React.useEffect(()=>{var _listboxRef$current2;if(null!=(_listboxRef$current2=listboxRef.current)&&_listboxRef$current2.contains(document.activeElement)&&null!==highlightedOption){var _menuItems$highlighte,_menuItems$highlighte2;null==menuItems?void 0:null==(_menuItems$highlighte=menuItems[highlightedOption])?void 0:null==
(_menuItems$highlighte2=_menuItems$highlighte.ref.current)?void 0:_menuItems$highlighte2.focus()}},[highlightedOption,menuItems]);React.useDebugValue({menuItems,highlightedOption});return{registerItem:parameters,unregisterItem,menuItems,getListboxProps:(otherHandlers={})=>{const rootProps=getRootProps((0,_extends2.default)({},otherHandlers,{onBlur:createHandleBlur(otherHandlers),onKeyDown:createHandleKeyDown(otherHandlers)}));return(0,_extends2.default)({},otherHandlers,rootProps,{role:"menu"})},
getItemState:id=>{const {disabled,highlighted}=getOptionState(id);return{disabled,highlighted}},getItemProps:getOptionProps,highlightedOption,highlightFirstItem,highlightLastItem:handleRef}};var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),React=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);
var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$react$index")),_utils=require("module$node_modules$$mui$utils$index"),
_ListboxUnstyled=require("module$node_modules$$mui$base$node$ListboxUnstyled$index")}
//# sourceMappingURL=module$node_modules$$mui$base$node$MenuUnstyled$useMenu.js.map
