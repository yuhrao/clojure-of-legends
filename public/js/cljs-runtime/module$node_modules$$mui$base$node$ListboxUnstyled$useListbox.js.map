{
"version":3,
"file":"module$node_modules$$mui$base$node$ListboxUnstyled$useListbox.js",
"lineCount":16,
"mappings":"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",
"sources":["node_modules/@mui/base/node/ListboxUnstyled/useListbox.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mui$base$node$ListboxUnstyled$useListbox\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useListbox;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _utils = require(\"@mui/utils\");\nvar _useListbox = require(\"./useListbox.types\");\nvar _defaultListboxReducer = _interopRequireDefault(require(\"./defaultListboxReducer\"));\nvar _useControllableReducer = _interopRequireDefault(require(\"./useControllableReducer\"));\nvar _areArraysEqual = _interopRequireDefault(require(\"../utils/areArraysEqual\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nconst TEXT_NAVIGATION_RESET_TIMEOUT = 500; // milliseconds\n\nconst defaultOptionComparer = (optionA, optionB) => optionA === optionB;\nconst defaultIsOptionDisabled = () => false;\nconst defaultOptionStringifier = option => typeof option === 'string' ? option : String(option);\nfunction useListbox(props) {\n  var _props$optionIdGenera, _options$highlightedI;\n  const {\n    disabledItemsFocusable = false,\n    disableListWrap = false,\n    focusManagement = 'activeDescendant',\n    id: idProp,\n    isOptionDisabled = defaultIsOptionDisabled,\n    listboxRef: externalListboxRef,\n    multiple = false,\n    optionComparer = defaultOptionComparer,\n    optionStringifier = defaultOptionStringifier,\n    options,\n    stateReducer: externalReducer\n  } = props;\n  const id = (0, _utils.unstable_useId)(idProp);\n  function defaultIdGenerator(_, index) {\n    return `${id}-option-${index}`;\n  }\n  const optionIdGenerator = (_props$optionIdGenera = props.optionIdGenerator) != null ? _props$optionIdGenera : defaultIdGenerator;\n  const propsWithDefaults = (0, _extends2.default)({}, props, {\n    disabledItemsFocusable,\n    disableListWrap,\n    focusManagement,\n    isOptionDisabled,\n    multiple,\n    optionComparer,\n    optionStringifier\n  });\n  const listboxRef = React.useRef(null);\n  const handleRef = (0, _utils.unstable_useForkRef)(externalListboxRef, listboxRef);\n  const textCriteriaRef = React.useRef({\n    searchString: '',\n    lastTime: null\n  });\n  const [{\n    highlightedValue,\n    selectedValue\n  }, dispatch] = (0, _useControllableReducer.default)(_defaultListboxReducer.default, externalReducer, propsWithDefaults);\n  const highlightedIndex = React.useMemo(() => {\n    return highlightedValue == null ? -1 : options.findIndex(option => optionComparer(option, highlightedValue));\n  }, [highlightedValue, options, optionComparer]);\n  const previousOptions = React.useRef([]);\n  React.useEffect(() => {\n    if ((0, _areArraysEqual.default)(previousOptions.current, options, optionComparer)) {\n      return;\n    }\n    dispatch({\n      type: _useListbox.ActionTypes.optionsChange,\n      event: null,\n      options,\n      previousOptions: previousOptions.current,\n      props: propsWithDefaults\n    });\n    previousOptions.current = options;\n\n    // No need to re-run this effect if props change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [options, optionComparer, dispatch]);\n  const setSelectedValue = React.useCallback(option => {\n    dispatch({\n      type: _useListbox.ActionTypes.setValue,\n      event: null,\n      value: option\n    });\n  }, [dispatch]);\n  const setHighlightedValue = React.useCallback(option => {\n    dispatch({\n      type: _useListbox.ActionTypes.setHighlight,\n      event: null,\n      highlight: option\n    });\n  }, [dispatch]);\n  const createHandleOptionClick = (option, other) => event => {\n    var _other$onClick;\n    (_other$onClick = other.onClick) == null ? void 0 : _other$onClick.call(other, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    event.preventDefault();\n    dispatch({\n      type: _useListbox.ActionTypes.optionClick,\n      option,\n      event,\n      props: propsWithDefaults\n    });\n  };\n  const createHandleOptionPointerOver = (option, other) => event => {\n    var _other$onMouseOver;\n    (_other$onMouseOver = other.onMouseOver) == null ? void 0 : _other$onMouseOver.call(other, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    dispatch({\n      type: _useListbox.ActionTypes.optionHover,\n      option,\n      event,\n      props: propsWithDefaults\n    });\n  };\n  const createHandleKeyDown = other => event => {\n    var _other$onKeyDown;\n    (_other$onKeyDown = other.onKeyDown) == null ? void 0 : _other$onKeyDown.call(other, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    const keysToPreventDefault = ['ArrowUp', 'ArrowDown', 'Home', 'End', 'PageUp', 'PageDown'];\n    if (focusManagement === 'activeDescendant') {\n      // When the child element is focused using the activeDescendant attribute,\n      // the listbox handles keyboard events on its behalf.\n      // We have to `preventDefault()` is this case to prevent the browser from\n      // scrolling the view when space is pressed or submitting forms when enter is pressed.\n      keysToPreventDefault.push(' ', 'Enter');\n    }\n    if (keysToPreventDefault.includes(event.key)) {\n      event.preventDefault();\n    }\n    dispatch({\n      type: _useListbox.ActionTypes.keyDown,\n      event,\n      props: propsWithDefaults\n    });\n\n    // Handle text navigation\n    if (event.key.length === 1 && event.key !== ' ') {\n      const textCriteria = textCriteriaRef.current;\n      const lowerKey = event.key.toLowerCase();\n      const currentTime = performance.now();\n      if (textCriteria.searchString.length > 0 && textCriteria.lastTime && currentTime - textCriteria.lastTime > TEXT_NAVIGATION_RESET_TIMEOUT) {\n        textCriteria.searchString = lowerKey;\n      } else if (textCriteria.searchString.length !== 1 || lowerKey !== textCriteria.searchString) {\n        // If there is just one character in the buffer and the key is the same, do not append\n        textCriteria.searchString += lowerKey;\n      }\n      textCriteria.lastTime = currentTime;\n      dispatch({\n        type: _useListbox.ActionTypes.textNavigation,\n        event,\n        searchString: textCriteria.searchString,\n        props: propsWithDefaults\n      });\n    }\n  };\n  const createHandleBlur = other => event => {\n    var _other$onBlur, _listboxRef$current;\n    (_other$onBlur = other.onBlur) == null ? void 0 : _other$onBlur.call(other, event);\n    if (event.defaultPrevented) {\n      return;\n    }\n    if ((_listboxRef$current = listboxRef.current) != null && _listboxRef$current.contains(document.activeElement)) {\n      // focus is within the listbox\n      return;\n    }\n    dispatch({\n      type: _useListbox.ActionTypes.blur,\n      event,\n      props: propsWithDefaults\n    });\n  };\n  const getRootProps = (otherHandlers = {}) => {\n    return (0, _extends2.default)({}, otherHandlers, {\n      'aria-activedescendant': focusManagement === 'activeDescendant' && highlightedValue != null ? optionIdGenerator(highlightedValue, highlightedIndex) : undefined,\n      id,\n      onBlur: createHandleBlur(otherHandlers),\n      onKeyDown: createHandleKeyDown(otherHandlers),\n      role: 'listbox',\n      tabIndex: focusManagement === 'DOM' ? -1 : 0,\n      ref: handleRef\n    });\n  };\n  const getOptionState = option => {\n    let selected;\n    const index = options.findIndex(opt => optionComparer(opt, option));\n    if (multiple) {\n      var _ref;\n      selected = ((_ref = selectedValue) != null ? _ref : []).some(value => value != null && optionComparer(option, value));\n    } else {\n      selected = optionComparer(option, selectedValue);\n    }\n    const disabled = isOptionDisabled(option, index);\n    return {\n      selected,\n      disabled,\n      highlighted: highlightedIndex === index\n    };\n  };\n  const getOptionTabIndex = optionState => {\n    if (focusManagement === 'activeDescendant') {\n      return undefined;\n    }\n    if (!optionState.highlighted) {\n      return -1;\n    }\n    if (optionState.disabled && !disabledItemsFocusable) {\n      return -1;\n    }\n    return 0;\n  };\n  const getOptionProps = (option, otherHandlers = {}) => {\n    const optionState = getOptionState(option);\n    const index = options.findIndex(opt => optionComparer(opt, option));\n    return (0, _extends2.default)({}, otherHandlers, {\n      'aria-disabled': optionState.disabled || undefined,\n      'aria-selected': optionState.selected,\n      id: optionIdGenerator(option, index),\n      onClick: createHandleOptionClick(option, otherHandlers),\n      onPointerOver: createHandleOptionPointerOver(option, otherHandlers),\n      role: 'option',\n      tabIndex: getOptionTabIndex(optionState)\n    });\n  };\n  React.useDebugValue({\n    highlightedOption: options[highlightedIndex],\n    selectedOption: selectedValue\n  });\n  return {\n    getRootProps,\n    getOptionProps,\n    getOptionState,\n    highlightedOption: (_options$highlightedI = options[highlightedIndex]) != null ? _options$highlightedI : null,\n    selectedOption: selectedValue,\n    setSelectedValue,\n    setHighlightedValue\n  };\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_interopRequireDefault","Object","defineProperty","value","default","useListbox","props","defaultIdGenerator","_","index","id","_props$optionIdGenera","_options$highlightedI","disabledItemsFocusable","disableListWrap","focusManagement","idProp","isOptionDisabled","defaultIsOptionDisabled","externalListboxRef","multiple","optionComparer","defaultOptionComparer","optionStringifier","defaultOptionStringifier","options","externalReducer","_utils","unstable_useId","optionIdGenerator","propsWithDefaults","_extends2","listboxRef","React","useRef","handleRef","unstable_useForkRef","textCriteriaRef","searchString","lastTime","highlightedValue","selectedValue","dispatch","_useControllableReducer","_defaultListboxReducer","highlightedIndex","useMemo","findIndex","option","previousOptions","useEffect","_areArraysEqual","current","type","_useListbox","ActionTypes","optionsChange","event","setSelectedValue","useCallback","setValue","setHighlightedValue","setHighlight","highlight","createHandleOptionClick","other","_other$onClick","onClick","call","defaultPrevented","preventDefault","optionClick","createHandleOptionPointerOver","_other$onMouseOver","onMouseOver","optionHover","createHandleKeyDown","_other$onKeyDown","onKeyDown","keysToPreventDefault","push","includes","key","keyDown","length","textCriteria","lowerKey","toLowerCase","currentTime","performance","now","TEXT_NAVIGATION_RESET_TIMEOUT","textNavigation","createHandleBlur","_other$onBlur","_listboxRef$current","onBlur","contains","document","activeElement","blur","getOptionState","selected","opt","some","disabled","highlighted","useDebugValue","highlightedOption","selectedOption","getRootProps","otherHandlers","undefined","role","tabIndex","ref","getOptionProps","optionState","onPointerOver","_interopRequireWildcard","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","desc","set","optionA","optionB","String"]
}
