{"version":3,"sources":["col/main.cljs"],"mappings":";;;;;;AAaA,sBAAA,2CAAA,8DAAA,2CAAA,4DAAA,wDAAA,+DAAA,qFAAA,sEAAA,xfAAKA;AAIL,GAAA,QAAAC,gCAAAC,qCAAAC;AAAA;AAAA,AAAA,AAASC,qBAAU,gDAAA,2CAAA,yDAAA,2CAAA,0DAAA,GAAA,8DAAA,gBAAA,4DAAA,iCAAA,+DAAA,teAACC;;AAMpB,4BAAA,5BAAMC;AAAN,gDACM,AAACC,8BAA0BP,9EAC3B,AAACQ,mGAAa,WAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;WAAA,AAAAE,4CAAAF,eAAA,lEAAaG;AAAb,AACE,sFAAA,tFAACC,mDAAMV,mBAAUW,4EACAF;;AACjB,qGAAA,2HAAA,zNAACC,0DAAMV,mBAAUY,0EACVD,4HAAe,AAACE,gBAAMJ;;;uDAC7C,AAACK,+BAA2BlB,oBAAW,AAAA,uFAAA,AAAAmB,gBAAWf,jNAClD,OAACI,gOAAa,WAAKY;AAAL,AACE,6FAAA,tFAACN,mDAAMV,mBACAW,+EACW,AAAA,mFAAOK;;;AAE/C,kBAAA,lBAAMC;AAAN,AAAA,0FAAA,wGAAA,2CAAA,iDAAA,2CAAA,uDAAA,eAAA,+DAAA,SAAA,gEAAA,SAAA,0DAAA,OAAA,uFAAA,gBAAA,oFAAA,gCAAA,mFAAA,wGAAA,2CAAA,gEAAA,eAAA,eAAA,mFAAA,wGAAA,2CAAA,gEAAA,iBAAA,iBAAA,mFAAA,0GAAA,2CAAA,gEAAA,kBAAA,mFAAA,2ZAAA,mFAAA,1rEACMC,qzBAMCA,oUACAA,wUACAC,0TACCC,gEACH,CAAA,mEAAuB,AAAA,wFAAA,AAAA,uFAAA,AAAAL,gBAAKf,2KAGzBoB,gEAAW,CAAA,uDAAgB,AAAA,4FAAA,AAAA,uFAAA,AAAAL,gBAAKf;;AAIxC,gBAAA,hBAAMqB;AAAN,AACE,AAACnB;;AACD,wDAAA,mFAAA,iDAAA,mFAAA,wHAAA,mFAAA,wGAAA,2CAAA,iDAAA,2CAAA,iEAAA,cAAA,0DAAA,OAAA,iFAAA,iBAAA,oFAAA,qCAAA,2GAAA,mFAAA,wGAAA,2CAAA,+DAAA,OAAA,gEAAA,eAAA,eAAA,mFAAA,wGAAA,2CAAA,+DAAA,SAAA,gEAAA,iBAAA,j6DAACoB,uTACkBC,2MACAL,8nBAKFD,0JACGC,0YAGAA,8RAEN,wBAAA,xBAAiBM;;AAEjC,sBAAA,tBAAuBC;AAAvB,AACE,OAACJ","names":["col.main/lol-client","js/col","js/col.main","js/col.main.base-data","col.main/base-data","reagent.core.atom","col.main/prepare-metadata","api.lol.metadata/get-versions","promesa.core.then","p__28437","map__28438","cljs.core/--destructure-map","cljs.core.get","data","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core/update","cljs.core/first","api.lol.metadata/get-champions","cljs.core/deref","res","col.main/header","js/module$node_modules$$mui$material$node$Box$index.default","js/module$node_modules$$mui$material$node$Stack$index.default","js/module$node_modules$$mui$material$node$Typography$index.default","col.main/init","reagent.dom.render","js/module$node_modules$$mui$material$node$CssBaseline$index.default","js/document","col.main/hot-reload"],"sourcesContent":["(ns col.main\n  (:require\n    [\"axios\" :as axios]\n    [reagent.dom :as r.dom]\n    [reagent.core :as r.core]\n    [promesa.core :as promesa]\n    [api.lol.metadata :as lol.metadata]\n    [\"@mui/material/Typography\" :default Typography]\n    [\"@mui/material/CssBaseline\" :default CssBaseline]\n    [\"@mui/material/Stack\" :default Stack]\n    [\"@mui/material/Box\" :default Box]))\n\n\n(def lol-client {:endpoints {:versions      \"https://ddragon.leagueoflegends.com/api/versions.json\"\n                             :champions     \"http://ddragon.leagueoflegends.com/cdn/{{version}}/data/{{language}}/champion.json\"\n                             :champion-icon \"http://ddragon.leagueoflegends.com/cdn/{{version}}/img/champion/{{image}}\"}})\n\n(defonce base-data (r.core/atom\n                     {:options   {:version  \"\"\n                                  :language \"pt_BR\"}\n                      :versions  []\n                      :champions {}}))\n\n(defn prepare-metadata []\n  (-> (lol.metadata/get-versions lol-client)\n      (promesa/then (fn [{:keys [data]}]\n                      (swap! base-data assoc\n                             :versions data)\n                      (swap! base-data update :options\n                             assoc :version (first data)))))\n  (-> (lol.metadata/get-champions lol-client (:options @base-data))\n      (promesa/then (fn [res]\n                      (swap! base-data\n                             assoc\n                             :champions (:data res))))))\n\n(defn header []\n  [:> Box {:sx                    {:width \"100%\"}\n           :component             \"header\"\n           :grid-area             \"header\"\n           :display               \"grid\"\n           :grid-template-columns \"3rem 1fr 3rem\"\n           :grid-template-areas   \"'logo search options'\"}\n   [:> Box {:grid-area \"logo\"} \"logo\"]\n   [:> Box {:grid-area \"search\"} \"Search\"]\n   [:> Stack {:grid-area \"options\"}\n    [:> Typography\n     (str \"Vers\u00e3o do LoL: \" (-> @base-data\n                                :options\n                                :version))]\n    [:> Typography (str \"Idioma: \" (-> @base-data\n                                       :options\n                                       :language))]]])\n\n(defn init []\n  (prepare-metadata)\n  (r.dom/render [:<>\n                 [:> CssBaseline]\n                 [:> Box {:sx                 {:max-height \"1vh\"}\n                          :display            \"grid\"\n                          :grid-template-rows \"3.5rem 1fr 1fr\"\n                          :grid-template-areas\n                          \"'header'\\n'main'\\n'footer'\"}\n                  [header]\n                  [:> Box {:component \"main\"\n                           :grid-area \"main\"}\n                   \"Main\"]\n                  [:> Box {:component \"footer\"\n                           :grid-area \"footer\"} \"Footer\"]]]\n                (.getElementById js/document \"app\")))\n\n(defn ^:dev/after-load hot-reload []\n  (init))"]}