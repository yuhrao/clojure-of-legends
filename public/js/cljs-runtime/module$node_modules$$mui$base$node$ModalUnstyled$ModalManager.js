shadow$provide.module$node_modules$$mui$base$node$ModalUnstyled$ModalManager=function(global,require,module,exports){function isOverflowing(container){const doc=(0,_utils.unstable_ownerDocument)(container);return doc.body===container?(0,_utils.unstable_ownerWindow)(container).innerWidth>doc.documentElement.clientWidth:container.scrollHeight>container.clientHeight}function ariaHidden(element,show){show?element.setAttribute("aria-hidden","true"):element.removeAttribute("aria-hidden")}function getPaddingRight(element){return parseInt((0,_utils.unstable_ownerWindow)(element).getComputedStyle(element).paddingRight,
10)||0}function ariaHiddenSiblings(container,mountElement,currentElement,elementsToExclude,show){const blacklist=[mountElement,currentElement,...elementsToExclude];[].forEach.call(container.children,element=>{const isNotExcludedElement=-1===blacklist.indexOf(element),isForbiddenTagName=-1!=="TEMPLATE SCRIPT STYLE LINK MAP META NOSCRIPT PICTURE COL COLGROUP PARAM SLOT SOURCE TRACK".split(" ").indexOf(element.tagName),isInputHidden="INPUT"===element.tagName&&"hidden"===element.getAttribute("type");
isNotExcludedElement&&!isForbiddenTagName&&!isInputHidden&&ariaHidden(element,show)})}function findIndexOf(items,callback){let idx=-1;items.some((item,index)=>callback(item)?(idx=index,!0):!1);return idx}function handleContainer(containerInfo,props){const restoreStyle=[];containerInfo=containerInfo.container;if(!props.disableScrollLock){if(isOverflowing(containerInfo)){const scrollbarSize=(0,_utils.unstable_getScrollbarSize)((0,_utils.unstable_ownerDocument)(containerInfo));restoreStyle.push({value:containerInfo.style.paddingRight,
property:"padding-right",el:containerInfo});containerInfo.style.paddingRight=`${getPaddingRight(containerInfo)+scrollbarSize}px`;props=(0,_utils.unstable_ownerDocument)(containerInfo).querySelectorAll(".mui-fixed");[].forEach.call(props,element=>{restoreStyle.push({value:element.style.paddingRight,property:"padding-right",el:element});element.style.paddingRight=`${getPaddingRight(element)+scrollbarSize}px`})}if(containerInfo.parentNode instanceof DocumentFragment)containerInfo=(0,_utils.unstable_ownerDocument)(containerInfo).body;
else{props=containerInfo.parentElement;const containerWindow=(0,_utils.unstable_ownerWindow)(containerInfo);containerInfo="HTML"===(null==props?void 0:props.nodeName)&&"scroll"===containerWindow.getComputedStyle(props).overflowY?props:containerInfo}restoreStyle.push({value:containerInfo.style.overflow,property:"overflow",el:containerInfo},{value:containerInfo.style.overflowX,property:"overflow-x",el:containerInfo},{value:containerInfo.style.overflowY,property:"overflow-y",el:containerInfo});containerInfo.style.overflow=
"hidden"}return()=>{restoreStyle.forEach(({value,el,property})=>{value?el.style.setProperty(property,value):el.style.removeProperty(property)})}}function getHiddenSiblings(container){const hiddenSiblings=[];[].forEach.call(container.children,element=>{"true"===element.getAttribute("aria-hidden")&&hiddenSiblings.push(element)});return hiddenSiblings}Object.defineProperty(exports,"__esModule",{value:!0});exports.ariaHidden=ariaHidden;exports.default=void 0;var _utils=require("module$node_modules$$mui$utils$index");
class ModalManager{constructor(){this.modals=[];this.containers=[]}add(modal,container){let modalIndex=this.modals.indexOf(modal);if(-1!==modalIndex)return modalIndex;modalIndex=this.modals.length;this.modals.push(modal);modal.modalRef&&ariaHidden(modal.modalRef,!1);const hiddenSiblings=getHiddenSiblings(container);ariaHiddenSiblings(container,modal.mount,modal.modalRef,hiddenSiblings,!0);const containerIndex=findIndexOf(this.containers,item=>item.container===container);if(-1!==containerIndex)return this.containers[containerIndex].modals.push(modal),
modalIndex;this.containers.push({modals:[modal],container,restore:null,hiddenSiblings});return modalIndex}mount(modal,props){var containerIndex=findIndexOf(this.containers,item=>-1!==item.modals.indexOf(modal));containerIndex=this.containers[containerIndex];containerIndex.restore||(containerIndex.restore=handleContainer(containerIndex,props))}remove(modal,ariaHiddenState=!0){const modalIndex=this.modals.indexOf(modal);if(-1===modalIndex)return modalIndex;const containerIndex=findIndexOf(this.containers,
item=>-1!==item.modals.indexOf(modal)),containerInfo=this.containers[containerIndex];containerInfo.modals.splice(containerInfo.modals.indexOf(modal),1);this.modals.splice(modalIndex,1);0===containerInfo.modals.length?(containerInfo.restore&&containerInfo.restore(),modal.modalRef&&ariaHidden(modal.modalRef,ariaHiddenState),ariaHiddenSiblings(containerInfo.container,modal.mount,modal.modalRef,containerInfo.hiddenSiblings,!1),this.containers.splice(containerIndex,1)):(ariaHiddenState=containerInfo.modals[containerInfo.modals.length-
1],ariaHiddenState.modalRef&&ariaHidden(ariaHiddenState.modalRef,!1));return modalIndex}isTopModal(modal){return 0<this.modals.length&&this.modals[this.modals.length-1]===modal}}exports.default=ModalManager}
//# sourceMappingURL=module$node_modules$$mui$base$node$ModalUnstyled$ModalManager.js.map
