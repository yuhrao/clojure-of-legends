shadow$provide.module$node_modules$$mui$base$node$ListboxUnstyled$defaultListboxReducer=function(global,require,module,exports){function findValidOptionToHighlight(index,lookupDirection,options,focusDisabled,isOptionDisabled,wrapAround){if(0===options.length||options.every((o,i)=>isOptionDisabled(o,i)))return-1;for(;;){if(!wrapAround&&"next"===lookupDirection&&index===options.length||!wrapAround&&"previous"===lookupDirection&&-1===index)return-1;if(focusDisabled?0:isOptionDisabled(options[index],
index))index+="next"===lookupDirection?1:-1,wrapAround&&(index=(index+options.length)%options.length);else return index}}function getNewHighlightedOption(options,previouslyHighlightedOption,diff,lookupDirection,highlightDisabled,isOptionDisabled,wrapAround,optionComparer){var _options$nextIndex;const maxIndex=options.length-1,previouslyHighlightedIndex=null==previouslyHighlightedOption?-1:options.findIndex(option=>optionComparer(option,previouslyHighlightedOption));if("reset"===diff)return null;if("start"===
diff)diff=0;else if("end"===diff)diff=maxIndex;else{const newIndex=previouslyHighlightedIndex+diff;diff=0>newIndex?!wrapAround&&-1!==previouslyHighlightedIndex||1<Math.abs(diff)?0:maxIndex:newIndex>maxIndex?!wrapAround||1<Math.abs(diff)?maxIndex:0:newIndex}lookupDirection=findValidOptionToHighlight(diff,lookupDirection,options,highlightDisabled,isOptionDisabled,wrapAround);return null!=(_options$nextIndex=options[lookupDirection])?_options$nextIndex:null}function handleOptionSelection(option,state,
props){const {multiple,optionComparer=(o,v)=>o===v,isOptionDisabled=()=>!1}=props,{selectedValue}=state,optionIndex=props.options.findIndex(o=>props.optionComparer(option,o));return isOptionDisabled(option,optionIndex)?state:multiple?{selectedValue:(null!=selectedValue?selectedValue:[]).some(sv=>optionComparer(sv,option))?selectedValue.filter(v=>!optionComparer(v,option)):[...(null!=selectedValue?selectedValue:[]),option],highlightedValue:option}:null!=selectedValue&&optionComparer(option,selectedValue)?
state:{selectedValue:option,highlightedValue:option}}function handleKeyDown(event,state,props){const {options,isOptionDisabled,disableListWrap,disabledItemsFocusable,optionComparer}=props,moveHighlight=(diff,direction,wrapAround)=>getNewHighlightedOption(options,state.highlightedValue,diff,direction,null!=disabledItemsFocusable?disabledItemsFocusable:!1,null!=isOptionDisabled?isOptionDisabled:()=>!1,wrapAround,optionComparer);switch(event.key){case "Home":return(0,_extends2.default)({},state,{highlightedValue:moveHighlight("start",
"next",!1)});case "End":return(0,_extends2.default)({},state,{highlightedValue:moveHighlight("end","previous",!1)});case "PageUp":return(0,_extends2.default)({},state,{highlightedValue:moveHighlight(-5,"previous",!1)});case "PageDown":return(0,_extends2.default)({},state,{highlightedValue:moveHighlight(5,"next",!1)});case "ArrowUp":return(0,_extends2.default)({},state,{highlightedValue:moveHighlight(-1,"previous",!(null!=disableListWrap&&disableListWrap))});case "ArrowDown":return(0,_extends2.default)({},
state,{highlightedValue:moveHighlight(1,"next",!(null!=disableListWrap&&disableListWrap))});case "Enter":case " ":if(null!==state.highlightedValue)return handleOptionSelection(state.highlightedValue,state,props)}return state}function handleTextNavigation(state,searchString,props){const {options,isOptionDisabled,disableListWrap,disabledItemsFocusable,optionComparer,optionStringifier}=props;props=previouslyHighlightedOption=>getNewHighlightedOption(options,previouslyHighlightedOption,1,"next",null!=
disabledItemsFocusable?disabledItemsFocusable:!1,null!=isOptionDisabled?isOptionDisabled:()=>!1,!(null!=disableListWrap&&disableListWrap),optionComparer);const startWithCurrentOption=1<searchString.length;let nextOption=startWithCurrentOption?state.highlightedValue:props(state.highlightedValue);for(let index=0;index<options.length&&nextOption&&(startWithCurrentOption||state.highlightedValue!==nextOption);index+=1){if(textCriteriaMatches(nextOption,searchString,optionStringifier)&&(!isOptionDisabled(nextOption,
options.indexOf(nextOption))||disabledItemsFocusable))return(0,_extends2.default)({},state,{highlightedValue:nextOption});nextOption=props(nextOption)}return state}function handleOptionsChange(options,previousOptions,state,props){var _options$find;const {multiple,optionComparer}=props;previousOptions=null==state.highlightedValue?null:null!=(_options$find=options.find(option=>optionComparer(option,state.highlightedValue)))?_options$find:null;if(multiple){var _ref3;var _options$find2=(null!=(_ref3=
state.selectedValue)?_ref3:[]).filter(selectedValue=>options.some(option=>optionComparer(option,selectedValue)));return{highlightedValue:previousOptions,selectedValue:_options$find2}}_ref3=null!=(_options$find2=options.find(option=>optionComparer(option,state.selectedValue)))?_options$find2:null;return{highlightedValue:previousOptions,selectedValue:_ref3}}global=require("module$node_modules$$babel$runtime$helpers$interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
function(state,action){const {type}=action;switch(type){case _useListbox.ActionTypes.keyDown:return handleKeyDown(action.event,state,action.props);case _useListbox.ActionTypes.optionClick:return handleOptionSelection(action.option,state,action.props);case _useListbox.ActionTypes.blur:return(0,_extends2.default)({},state,{highlightedValue:null});case _useListbox.ActionTypes.setValue:return(0,_extends2.default)({},state,{selectedValue:action.value});case _useListbox.ActionTypes.setHighlight:return(0,_extends2.default)({},
state,{highlightedValue:action.highlight});case _useListbox.ActionTypes.textNavigation:return handleTextNavigation(state,action.searchString,action.props);case _useListbox.ActionTypes.optionsChange:return handleOptionsChange(action.options,action.previousOptions,state,action.props);default:return state}};var _extends2=global(require("module$node_modules$$babel$runtime$helpers$extends")),_useListbox=require("module$node_modules$$mui$base$node$ListboxUnstyled$useListbox_types");const textCriteriaMatches=
(nextFocus,searchString,stringifyOption)=>{var _stringifyOption;return(nextFocus=null==(_stringifyOption=stringifyOption(nextFocus))?void 0:_stringifyOption.trim().toLowerCase())&&0!==nextFocus.length?0===nextFocus.indexOf(searchString):!1}}
//# sourceMappingURL=module$node_modules$$mui$base$node$ListboxUnstyled$defaultListboxReducer.js.map
