{
"version":3,
"file":"module$node_modules$$mui$base$node$ListboxUnstyled$defaultListboxReducer.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/@mui/base/node/ListboxUnstyled/defaultListboxReducer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$mui$base$node$ListboxUnstyled$defaultListboxReducer\"] = function(global,require,module,exports) {\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = defaultListboxReducer;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _useListbox = require(\"./useListbox.types\");\nconst pageSize = 5;\nfunction findValidOptionToHighlight(index, lookupDirection, options, focusDisabled, isOptionDisabled, wrapAround) {\n  if (options.length === 0 || options.every((o, i) => isOptionDisabled(o, i))) {\n    return -1;\n  }\n  let nextFocus = index;\n  for (;;) {\n    // No valid options found\n    if (!wrapAround && lookupDirection === 'next' && nextFocus === options.length || !wrapAround && lookupDirection === 'previous' && nextFocus === -1) {\n      return -1;\n    }\n    const nextFocusDisabled = focusDisabled ? false : isOptionDisabled(options[nextFocus], nextFocus);\n    if (nextFocusDisabled) {\n      nextFocus += lookupDirection === 'next' ? 1 : -1;\n      if (wrapAround) {\n        nextFocus = (nextFocus + options.length) % options.length;\n      }\n    } else {\n      return nextFocus;\n    }\n  }\n}\nfunction getNewHighlightedOption(options, previouslyHighlightedOption, diff, lookupDirection, highlightDisabled, isOptionDisabled, wrapAround, optionComparer) {\n  var _options$nextIndex;\n  const maxIndex = options.length - 1;\n  const defaultHighlightedIndex = -1;\n  let nextIndexCandidate;\n  const previouslyHighlightedIndex = previouslyHighlightedOption == null ? -1 : options.findIndex(option => optionComparer(option, previouslyHighlightedOption));\n  if (diff === 'reset') {\n    var _options$defaultHighl;\n    return defaultHighlightedIndex === -1 ? null : (_options$defaultHighl = options[defaultHighlightedIndex]) != null ? _options$defaultHighl : null;\n  }\n  if (diff === 'start') {\n    nextIndexCandidate = 0;\n  } else if (diff === 'end') {\n    nextIndexCandidate = maxIndex;\n  } else {\n    const newIndex = previouslyHighlightedIndex + diff;\n    if (newIndex < 0) {\n      if (!wrapAround && previouslyHighlightedIndex !== -1 || Math.abs(diff) > 1) {\n        nextIndexCandidate = 0;\n      } else {\n        nextIndexCandidate = maxIndex;\n      }\n    } else if (newIndex > maxIndex) {\n      if (!wrapAround || Math.abs(diff) > 1) {\n        nextIndexCandidate = maxIndex;\n      } else {\n        nextIndexCandidate = 0;\n      }\n    } else {\n      nextIndexCandidate = newIndex;\n    }\n  }\n  const nextIndex = findValidOptionToHighlight(nextIndexCandidate, lookupDirection, options, highlightDisabled, isOptionDisabled, wrapAround);\n  return (_options$nextIndex = options[nextIndex]) != null ? _options$nextIndex : null;\n}\nfunction handleOptionSelection(option, state, props) {\n  const {\n    multiple,\n    optionComparer = (o, v) => o === v,\n    isOptionDisabled = () => false\n  } = props;\n  const {\n    selectedValue\n  } = state;\n  const optionIndex = props.options.findIndex(o => props.optionComparer(option, o));\n  if (isOptionDisabled(option, optionIndex)) {\n    return state;\n  }\n  if (multiple) {\n    var _ref, _ref2;\n    const selectedValues = (_ref = selectedValue) != null ? _ref : [];\n    // if the option is already selected, remove it from the selection, otherwise add it\n    const newSelectedValues = selectedValues.some(sv => optionComparer(sv, option)) ? selectedValue.filter(v => !optionComparer(v, option)) : [...((_ref2 = selectedValue) != null ? _ref2 : []), option];\n    return {\n      selectedValue: newSelectedValues,\n      highlightedValue: option\n    };\n  }\n  if (selectedValue != null && optionComparer(option, selectedValue)) {\n    return state;\n  }\n  return {\n    selectedValue: option,\n    highlightedValue: option\n  };\n}\nfunction handleKeyDown(event, state, props) {\n  const {\n    options,\n    isOptionDisabled,\n    disableListWrap,\n    disabledItemsFocusable,\n    optionComparer\n  } = props;\n  const moveHighlight = (diff, direction, wrapAround) => {\n    return getNewHighlightedOption(options, state.highlightedValue, diff, direction, disabledItemsFocusable != null ? disabledItemsFocusable : false, isOptionDisabled != null ? isOptionDisabled : () => false, wrapAround, optionComparer);\n  };\n  switch (event.key) {\n    case 'Home':\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight('start', 'next', false)\n      });\n    case 'End':\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight('end', 'previous', false)\n      });\n    case 'PageUp':\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight(-pageSize, 'previous', false)\n      });\n    case 'PageDown':\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight(pageSize, 'next', false)\n      });\n    case 'ArrowUp':\n      // TODO: extend current selection with Shift modifier\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight(-1, 'previous', !(disableListWrap != null ? disableListWrap : false))\n      });\n    case 'ArrowDown':\n      // TODO: extend current selection with Shift modifier\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: moveHighlight(1, 'next', !(disableListWrap != null ? disableListWrap : false))\n      });\n    case 'Enter':\n    case ' ':\n      if (state.highlightedValue === null) {\n        return state;\n      }\n      return handleOptionSelection(state.highlightedValue, state, props);\n    default:\n      break;\n  }\n  return state;\n}\nfunction handleBlur(state) {\n  return (0, _extends2.default)({}, state, {\n    highlightedValue: null\n  });\n}\nconst textCriteriaMatches = (nextFocus, searchString, stringifyOption) => {\n  var _stringifyOption;\n  const text = (_stringifyOption = stringifyOption(nextFocus)) == null ? void 0 : _stringifyOption.trim().toLowerCase();\n  if (!text || text.length === 0) {\n    // Make option not navigable if stringification fails or results in empty string.\n    return false;\n  }\n  return text.indexOf(searchString) === 0;\n};\nfunction handleTextNavigation(state, searchString, props) {\n  const {\n    options,\n    isOptionDisabled,\n    disableListWrap,\n    disabledItemsFocusable,\n    optionComparer,\n    optionStringifier\n  } = props;\n  const moveHighlight = previouslyHighlightedOption => {\n    return getNewHighlightedOption(options, previouslyHighlightedOption, 1, 'next', disabledItemsFocusable != null ? disabledItemsFocusable : false, isOptionDisabled != null ? isOptionDisabled : () => false, !(disableListWrap != null ? disableListWrap : false), optionComparer);\n  };\n  const startWithCurrentOption = searchString.length > 1;\n  let nextOption = startWithCurrentOption ? state.highlightedValue : moveHighlight(state.highlightedValue);\n\n  // use `for` instead of `while` prevent infinite loop\n  for (let index = 0; index < options.length; index += 1) {\n    // Return un-mutated state if looped back to the currently highlighted value\n    if (!nextOption || !startWithCurrentOption && state.highlightedValue === nextOption) {\n      return state;\n    }\n    if (textCriteriaMatches(nextOption, searchString, optionStringifier) && (!isOptionDisabled(nextOption, options.indexOf(nextOption)) || disabledItemsFocusable)) {\n      // The nextOption is the element to be highlighted\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: nextOption\n      });\n    }\n    // Move to the next element.\n    nextOption = moveHighlight(nextOption);\n  }\n\n  // No option match text search criteria\n  return state;\n}\nfunction handleOptionsChange(options, previousOptions, state, props) {\n  var _options$find, _options$find2;\n  const {\n    multiple,\n    optionComparer\n  } = props;\n  const newHighlightedOption = state.highlightedValue == null ? null : (_options$find = options.find(option => optionComparer(option, state.highlightedValue))) != null ? _options$find : null;\n  if (multiple) {\n    var _ref3;\n    // exclude selected values that are no longer in the options\n    const selectedValues = (_ref3 = state.selectedValue) != null ? _ref3 : [];\n    const newSelectedValues = selectedValues.filter(selectedValue => options.some(option => optionComparer(option, selectedValue)));\n    return {\n      highlightedValue: newHighlightedOption,\n      selectedValue: newSelectedValues\n    };\n  }\n  const newSelectedValue = (_options$find2 = options.find(option => optionComparer(option, state.selectedValue))) != null ? _options$find2 : null;\n  return {\n    highlightedValue: newHighlightedOption,\n    selectedValue: newSelectedValue\n  };\n}\nfunction defaultListboxReducer(state, action) {\n  const {\n    type\n  } = action;\n  switch (type) {\n    case _useListbox.ActionTypes.keyDown:\n      return handleKeyDown(action.event, state, action.props);\n    case _useListbox.ActionTypes.optionClick:\n      return handleOptionSelection(action.option, state, action.props);\n    case _useListbox.ActionTypes.blur:\n      return handleBlur(state);\n    case _useListbox.ActionTypes.setValue:\n      return (0, _extends2.default)({}, state, {\n        selectedValue: action.value\n      });\n    case _useListbox.ActionTypes.setHighlight:\n      return (0, _extends2.default)({}, state, {\n        highlightedValue: action.highlight\n      });\n    case _useListbox.ActionTypes.textNavigation:\n      return handleTextNavigation(state, action.searchString, action.props);\n    case _useListbox.ActionTypes.optionsChange:\n      return handleOptionsChange(action.options, action.previousOptions, state, action.props);\n    default:\n      return state;\n  }\n}\n};"],
"names":["shadow$provide","global","require","module","exports","findValidOptionToHighlight","index","lookupDirection","options","focusDisabled","isOptionDisabled","wrapAround","length","every","o","i","nextFocus","nextFocusDisabled","getNewHighlightedOption","previouslyHighlightedOption","diff","highlightDisabled","optionComparer","_options$nextIndex","maxIndex","previouslyHighlightedIndex","findIndex","option","nextIndexCandidate","newIndex","Math","abs","nextIndex","handleOptionSelection","state","props","multiple","v","selectedValue","optionIndex","some","selectedValues","sv","newSelectedValues","filter","highlightedValue","handleKeyDown","event","disableListWrap","disabledItemsFocusable","moveHighlight","direction","key","_extends2","default","pageSize","handleTextNavigation","searchString","optionStringifier","startWithCurrentOption","nextOption","textCriteriaMatches","indexOf","handleOptionsChange","previousOptions","_options$find","newHighlightedOption","find","_ref3","newSelectedValue","_options$find2","_interopRequireDefault","Object","defineProperty","value","defaultListboxReducer","action","type","_useListbox","ActionTypes","keyDown","optionClick","blur","setValue","setHighlight","highlight","textNavigation","optionsChange","stringifyOption","_stringifyOption","text","trim","toLowerCase"]
}
